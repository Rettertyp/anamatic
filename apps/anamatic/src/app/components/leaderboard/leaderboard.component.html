<div class="leaderboard-container">
    <h1>Leaderboard</h1>
    <p class="subtitle">Beste 10 Spiele</p>

    @if (leaderboard$ | async; as leaderboard) {
    @if (leaderboard === null) {
    <div class="loading">Loading leaderboard...</div>
    } @else {
    <div class="leaderboard-list">
        @for (entry of leaderboard; track $index) {
        <div class="leaderboard-entry">
            <div class="rank">{{ $index + 1 }}</div>
            <div class="entry-details">
                <div class="username">{{ entry.username }}</div>
                <div class="game-info">
                    <span class="characters">{{ entry.characters.join('') }}</span>
                    <span class="words-count">{{ entry.wordsCount }} Worte</span>
                </div>
            </div>
            <div class="score">{{ entry.totalScore }}</div>
            <button mat-raised-button color="accent" (click)="challenge(entry.characters)">Challenge</button>
        </div>
        }

        @if (leaderboard.length === 0) {
        <div class="no-games">
            Bisher wurden noch keine Spiele gespielt. Los geht's!
        </div>
        }
    </div>
    }
    } @else {
    <div class="error">Fehler beim Laden der Bestenliste.</div>
    }

    <button class="back-button" (click)="goBack()">Zur√ºck</button>
</div>